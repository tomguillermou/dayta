<ng-container *ngIf="vm$ | async as vm">
  <ng-container *ngIf="vm.user as user">
    <div class="d-flex flex-column vh-100 p-3 bg-light" style="width: 320px">
      <p class="text-center">
        <i class="bi bi-person"></i>
        {{ user.email }}
      </p>

      <h3>Dashboards</h3>

      <div class="d-flex flex-column gap-1 mb-auto">
        <button class="btn btn-sm btn-light text-start" (click)="onCreateDashboard(vm.user, vm.dashboards.length)">
          <i class="bi bi-plus-lg"></i>
          Create one
        </button>

        <ng-container *ngFor="let dashboard of vm.dashboards">
          <a
            class="btn btn-sm btn-light text-start text-nowrap text-truncate overflow-hidden"
            [routerLink]="['/dashboards', dashboard.id]"
            routerLinkActive="active"
          >
            {{ dashboard.name }}
          </a>
        </ng-container>
        <ng-container *ngIf="!vm.dashboards.length">
          <p class="text-muted text-start">It's empty here. Create one!</p>
        </ng-container>
      </div>

      <div class="d-flex flex-column align-items-center gap-2">
        <button class="btn btn-sm btn-outline-danger w-100" (click)="onSignOut()">Sign out</button>
      </div>
    </div>
  </ng-container>
</ng-container>
