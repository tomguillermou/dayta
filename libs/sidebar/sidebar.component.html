<ng-container *ngIf="vm$ | async as vm">
  <div class="d-flex flex-column vh-100 p-3 bg-light" style="width: 320px">
    <button class="btn btn-sm btn-primary mb-3" (click)="onCreateDashboard(vm.user)" *ngIf="vm.user">
      Create one dashboard
    </button>

    <h3>Dashboards</h3>

    <p class="mb-auto" *ngIf="!vm.dashboards.length">No dashboard found, create one!</p>

    <ng-container *ngIf="vm.dashboards.length">
      <div class="d-flex flex-column gap-1 mb-auto">
        <ng-container *ngFor="let dashboard of vm.dashboards">
          <a
            class="btn btn-sm btn-outline-secondary border border-0 text-start text-nowrap text-truncate overflow-hidden"
            [routerLink]="['/dashboards', dashboard.id]"
            routerLinkActive="active"
          >
            {{ dashboard.name }}
          </a>
        </ng-container>
      </div>
    </ng-container>

    <div class="d-flex flex-column align-items-center gap-2" *ngIf="vm.user as user">
      <p class="fw-semibold mb-0">{{ user.email }}</p>
      <button class="btn btn-sm btn-outline-danger w-100" (click)="onSignOut()">Sign out</button>
    </div>
  </div>
</ng-container>
